<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boss Sanctuary</title>
    <!-- GOOGLE FONT -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link
            href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
            rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
          integrity="sha384-o55Gw7/D6HY5p1JcyKZc4FpVoqGawI7eT8IlqWjORnDtr5Szkbe5XWZAkdO+J3Ju" crossorigin="anonymous">
    <!-- BOXICONS -->
    <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
    <!-- APP CSS -->
    <link rel="stylesheet" th:href="@{/css/grid.css}">
    <link rel="stylesheet" th:href="@{/css/app.css}">
    <link rel="stylesheet" th:href="@{/css/Image.css}">
    <link rel="stylesheet" th:href="@{/css/styte.css}">
    <script src="https://kit.fontawesome.com/3edce6b09c.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.1.0/css/select2.min.css" />
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.1.0/js/select2.min.js"></script>
</head>

<body>
<!-- SIDEBAR -->
<div class="sidebar">
    <div class="sidebar-logo">
        <div class="sidebar-close" id="sidebar-close">
            <img th:src="@{'/images/logo.png'}" alt="Company logo">
        </div>
    </div>
    <div class="sidebar-user">
        <div class="sidebar-user-info">
            <div class="sidebar-user-name">
                Admin
            </div>
        </div>
        <button class="btn btn-outline">
            <a th:href="@{/perform_logout}">
                <i class='bx bx-log-out bx-flip-horizontal'></i>
            </a>
        </button>
    </div>
    <!-- SIDEBAR MENU -->
    <ul class="sidebar-menu">
        <li>
            <a th:href="@{/admin}" class="active">
                <i class='bx bx-home'></i>
                <span>dashboard</span>
            </a>
        </li>
        <li>
            <a th:href="@{/admin/importGood}">
                <i class='bx bx-shopping-bag'></i>
                <span>Import Goods</span>
            </a>
        </li>
        <li>
            <a th:href="@{/admin/revenue}">
                <i class='bx bx-chart'></i>
                <span>Revenue</span>
            </a>
        </li>
        <li>
            <a th:href="@{/admin/orders}">
                <i class='bx bx-history'></i>
                <span>Order History</span>
            </a>
        </li>
        <li class="sidebar-submenu">
            <a href="#" class="sidebar-menu-dropdown">
                <i class='bx bx-list-ul'></i>
                <span>Category</span>
                <div class="dropdown-icon"></div>
            </a>
            <ul class="sidebar-menu sidebar-menu-dropdown-content">
                <li>
                    <a th:href="@{/admin/category}">
                        Categories
                    </a>
                </li>
                <li>
                    <a th:href="@{/admin/category/add}">
                        Add Category
                    </a>
                </li>
                <li>
                    <a th:href="@{/admin/category/restore}">
                        Restores Category
                    </a>
                </li>
            </ul>
        </li>
        <li class="sidebar-submenu">
            <a href="#" class="sidebar-menu-dropdown">
                <i class='bx bx-user-circle'></i>
                <span>User</span>
                <div class="dropdown-icon"></div>
            </a>
            <ul class="sidebar-menu sidebar-menu-dropdown-content">
                <li>
                    <a th:href="@{/admin/staff}">
                        Users
                    </a>
                </li>
                <li>
                    <a th:href="@{/admin/staff/add}">
                        Add User
                    </a>
                </li>
                <li>
                    <a th:href="@{/admin/staff/restore}">
                        Restores User
                    </a>
                </li>
            </ul>
        </li>
        <li class="sidebar-submenu">
            <a href="#" class="sidebar-menu-dropdown">
                <i class='bx bx-cube'></i>
                <span>Item</span>
                <div class="dropdown-icon"></div>
            </a>
            <ul class="sidebar-menu sidebar-menu-dropdown-content">
                <li>
                    <a th:href="@{/admin/item}">
                        Items
                    </a>
                </li>
                <li>
                    <a th:href="@{/admin/item/add}">
                        Add Item
                    </a>
                </li>
                <li>
                    <a th:href="@{/admin/item/restore}">
                        Restore Item
                    </a>
                </li>
            </ul>
        </li>
        <li class="sidebar-submenu">
            <a href="#" class="sidebar-menu-dropdown">
                <i class='bx bx-package'></i>
                <span>Product</span>
                <div class="dropdown-icon"></div>
            </a>
            <ul class="sidebar-menu sidebar-menu-dropdown-content">
                <li>
                    <a th:href="@{/admin/product}">
                        Products
                    </a>
                </li>
                <li>
                    <a th:href="@{/admin/product/add}">
                        Add Product
                    </a>
                </li>
                <li>
                    <a th:href="@{/admin/product/restore}">
                        Restore Product
                    </a>
                </li>
            </ul>
        </li>
        <li class="sidebar-submenu">
            <a href="#" class="sidebar-menu-dropdown">
                <i class='bx bx-bookmark'></i>
                <span>Voucher</span>
                <div class="dropdown-icon"></div>
            </a>
            <ul class="sidebar-menu sidebar-menu-dropdown-content">
                <li>
                    <a th:href="@{/admin/voucher}">
                        Vouchers
                    </a>
                </li>
                <li>
                    <a th:href="@{/admin/voucher/add}">
                        Add Voucher
                    </a>
                </li>
            </ul>
        </li>
        <li>
            <a th:href="@{/admin/customer}">
                <i class='bx bx-user-check'></i>
                <span>Customer</span>
            </a>
        </li>
        <li>
            <a th:href="@{/admin/review}">
                <i class='bx bx-mail-send'></i>
                <span>Review</span>
            </a>
        </li>
        <li>
            <a th:href="@{/admin/inventory}">
                <i class='bx bx-barcode'></i>
                <span>Inventory</span>
            </a>
        </li>
        <!--        <li>-->
        <!--            <a href="#">-->
        <!--                <i class='bx bx-chat'></i>-->
        <!--                <span>chat</span>-->
        <!--            </a>-->
        <!--        </li>-->
        <li>
            <a href="#">
                <i class='bx bx-calendar'></i>
                <span>calendar</span>
            </a>
        </li>
        <li class="sidebar-submenu">
            <a href="#" class="sidebar-menu-dropdown">
                <i class='bx bx-cog'></i>
                <span>settings</span>
                <div class="dropdown-icon"></div>
            </a>
            <ul class="sidebar-menu sidebar-menu-dropdown-content">
                <li>
                    <a href="#" class="dark_mode-toggle" id="dark_mode-toggle">
                        Dark mode
                        <span class="dark_mode-switch"></span>
                    </a>
                </li>
            </ul>
        </li>
    </ul>
    <!-- END SIDEBAR MENU -->
</div>
<!-- END SIDEBAR -->

<!-- MAIN CONTENT -->
<div class="main">
    <div class="main-header">
        <div class="mobile-toggle" id="mobile-toggle">
            <i class='bx bx-menu-alt-right'></i>
        </div>
        <div class="main-title">
            dashboard
        </div>
    </div>

    <!-- STAFFS TABLE -->
    <div class="box">
        <div class="box-body overflow-scroll">
            <div class="box-header">
                Users
            </div>
            <div class="box-body overflow-scroll">
                <table>
                    <thead>
                    <tr>
                        <th>Image</th>
                        <th>FullName</th>
                        <th>Phone</th>
                        <th>Address</th>
                        <th>Salary</th>
                        <th>Detail</th>
                        <th>Edit</th>
                        <th>Reset</th>
                        <th>Delete</th>

                    </tr>
                    </thead>
                    <tbody th:each="user : ${users}"
                           th:if="${user.deleted == false} and ${user.role} == 'ROLE_STAFF'">
                    <tr>
                        <td> <img th:src="@{'/images/' + ${user.image}}"></td>
                        <td th:text="${user.fullName}"></td>
                        <td th:text="${user.phone}"></td>
                        <td th:text="${user.address}"></td>
                        <td th:text="${user.salary}"></td>
                        <td><a th:href="@{'/admin/staff/detail/' + ${user.id}}" style="color: blue"> <i class="fas fa-eye"></i> </a> </td>
                        <td><button class="btn-click"> <a th:href="@{'/admin/staff/edit/' + ${user.id}}"> <i
                                class="fa-solid fa-pen"></i> </a></button> </td>
                        <td><button class="btn-click" onclick="confirmReset(this)"
                                    data-url="@{/reset-password/{id}(id=${user.id})}" data-userid="${user.id}"> <a>
                            <i class="fa fa-refresh"></i> </a></button> </td>
                        <!--                        <td><button class="btn-click" > <a th:href="@{'/admin/staff/reset-password/' + ${user.id}}"> <i class="fa fa-refresh"></i>  </a></button> </td>-->
                        <td><button class="btn-click"> <a th:href="@{'/admin/staff/delete/' + ${user.id}}"> <i
                                class="fa-solid fa-trash-can"></i> </a> </button></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<!-- Thêm vào cuối thẻ body -->
<div class="overlay" id="overlay">
    <div class="confirmation-container">
        <h2>Are you sure you want to reset the password?</h2>
        <div class="buttons">
            <button id="confirmBtn" onclick="confirmReset()">OK</button>
            <button id="cancelBtn" onclick="cancelReset()">No</button>
        </div>
    </div>
</div>
<!-- END ORDERS TABLE -->
<!-- END MAIN CONTENT -->
<div class="overlay"></div>
<!-- SCRIPT -->
<!-- APEX CHART -->
<script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
<!-- APP JS -->
<script th:src="@{/js/app.js}"></script>
<script th:src="@{/js/ResetPassword.js}"></script>
</body>
</html>